{"version":3,"file":"PluginConfig.js","sourceRoot":"","sources":["../../../src/lib/config/PluginConfig.ts"],"names":[],"mappings":";;;AAAA,kDAA+C;AAuD/C,MAAM,iBAAiB,GAAe;IACpC,EAAE,EAAE,qBAAS,CAAC,EAAE;IAChB,IAAI,EAAE,qBAAS,CAAC,IAAI;CACrB,CAAC;AAEW,QAAA,oBAAoB,GAAuB;IACtD,UAAU,EAAE,EAAE,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE;IAC5C,QAAQ,EAAE,EAAE,YAAY,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;IAC3C,SAAS,EAAE,EAAE,YAAY,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE;IAClD,KAAK,EAAE,EAAE,YAAY,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAC;IAC7C,cAAc,EAAE,EAAE,YAAY,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,EAAC;IAChD,UAAU,EAAE,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;IAC/E,QAAQ,EAAE,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAC;IAC7C,gBAAgB,EAAE,EAAE,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAC;IACjD,YAAY,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE;IACjD,IAAI,EAAE,EAAE,YAAY,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,EAAE;IACrD,eAAe,EAAE,EAAE,YAAY,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;IAC1E,QAAQ,EAAE,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAC;CAC7E,CAAC","sourcesContent":["import { FONT_LATO } from '../utils/Constants';\n\nexport type PluginConfigKey = keyof PluginConfigSchema;\nexport type PluginConfigValue<T extends PluginConfigKey> = PluginConfigSchema[T]['defaultValue'];\n\nexport interface FIFOPathConfig {\n  type: 'peppyAlsaPlugin' | 'manual';\n  path: string;\n}\n\nexport interface ScreenSizeConfig {\n  type: 'auto' | 'manual';\n  width: number;\n  height: number;\n}\n\nexport interface PluginConfigSchemaEntry<T, U = false> {\n  defaultValue: T;\n  json: U;\n}\n\nexport interface FontConfig {\n  id: string;\n  type: 'predefined' | 'user'; // Type 'user' not yet implemented\n}\n\nexport interface ExitOnPauseStopConfig {\n  enabled: boolean;\n  delay: number;\n}\n\nexport interface FontDef extends FontConfig {\n  name: string;\n  shortName: string;\n  path: string;\n  light: string;\n  regular: string;\n  bold: string;\n}\n\nexport interface PluginConfigSchema {\n  startDelay: PluginConfigSchemaEntry<number>;\n  template: PluginConfigSchemaEntry<string>;\n  meterType: PluginConfigSchemaEntry<'random' | 'list' | 'single'>;\n  meter: PluginConfigSchemaEntry<'random' | String>;\n  changeInterval: PluginConfigSchemaEntry<number>;\n  screenSize: PluginConfigSchemaEntry<ScreenSizeConfig, true>;\n  useCache: PluginConfigSchemaEntry<boolean>;\n  smoothBufferSize: PluginConfigSchemaEntry<number>;\n  mouseSupport: PluginConfigSchemaEntry<boolean>;\n  font: PluginConfigSchemaEntry<FontConfig, true>;\n  exitOnPauseStop: PluginConfigSchemaEntry<ExitOnPauseStopConfig, true>;\n  fifoPath: PluginConfigSchemaEntry<FIFOPathConfig, true>;\n}\n\nconst defaultFontConfig: FontConfig = {\n  id: FONT_LATO.id,\n  type: FONT_LATO.type\n};\n\nexport const PLUGIN_CONFIG_SCHEMA: PluginConfigSchema = {\n  startDelay: { defaultValue: 3, json: false },\n  template: { defaultValue: '', json: false },\n  meterType: { defaultValue: 'random', json: false },\n  meter: { defaultValue: 'random', json: false},\n  changeInterval: { defaultValue: 60, json: false},\n  screenSize: { defaultValue: { type: 'auto', width: 0, height: 0 }, json: true },\n  useCache: { defaultValue: false, json: false},\n  smoothBufferSize: { defaultValue: 8, json: false},\n  mouseSupport: { defaultValue: true, json: false },\n  font: { defaultValue: defaultFontConfig, json: true },\n  exitOnPauseStop: { defaultValue: { enabled: true, delay: 0 }, json: true },\n  fifoPath: { defaultValue: { type: 'peppyAlsaPlugin', path: '' }, json: true}\n};\n"]}